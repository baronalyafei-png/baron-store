<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Baron Store</title>
<style>
body{background:#0A0A0A;color:#EFEFEF;font-family:Arial;padding:20px}
.products{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}
.card{background:#111;padding:20px;border-radius:15px;box-shadow:0 0 15px rgba(181,60,184,0.3)}
.price{color:#B53CB8;font-weight:bold}
button{margin-top:10px;padding:10px;background:#B53CB8;border:none;color:white;border-radius:8px;cursor:pointer;width:100%}
</style>
</head>
<body>

<h1>Ù…ØªØ¬Ø± Baron ğŸ‘‘</h1>
<div class="products" id="productsContainer"></div>

<script type="module">
import { db } from "./firebase-config.js";
import { collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

const container = document.getElementById("productsContainer");

async function loadProducts(){
    const snapshot = await getDocs(collection(db,"products"));
    snapshot.forEach(docSnap=>{
        const p = docSnap.data();
        const id = docSnap.id;

        container.innerHTML += `
            <div class="card">
                <h3>${p.name}</h3>
                <p>${p.description}</p>
                <p>Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…ØªØ§Ø­Ø©: ${p.stock}</p>
                <p class="price">${p.price} Ø¯.Ù„</p>
                <button onclick="addToCart('${id}','${p.name}',${p.price})">
                Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©
                </button>
            </div>
        `;
    });
}
loadProducts();
</script>

<script>
function addToCart(id,name,price){
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    cart.push({id,name,price});
    localStorage.setItem("cart",JSON.stringify(cart));
    alert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© ğŸ›’");
}
</script>

</body>
</html>
