<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Baron System ERP</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root{
--primary:#4F46E5;
--danger:#EF4444;
--success:#22C55E;
--bg:#F8FAFC;
--card:#FFFFFF;
--text:#111827;
--shadow:0 10px 30px rgba(0,0,0,0.05);
}

body.dark{
--bg:#0F172A;
--card:#1E293B;
--text:#F1F5F9;
--shadow:0 10px 30px rgba(0,0,0,0.3);
}

body{
margin:0;
font-family:'Cairo',sans-serif;
background:var(--bg);
color:var(--text);
display:flex;
transition:0.3s;
}

/* Sidebar */
.sidebar{
width:260px;
background:var(--card);
height:100vh;
padding:20px;
box-shadow:var(--shadow);
overflow-y:auto;
position:fixed;
right:0;
top:0;
}

.sidebar button{
width:100%;
padding:12px;
margin-bottom:8px;
border:none;
background:none;
text-align:right;
cursor:pointer;
border-radius:8px;
font-weight:600;
}

.sidebar button:hover{
background:rgba(79,70,229,0.1);
}

.topbar{
position:fixed;
right:260px;
left:0;
height:60px;
background:var(--card);
display:flex;
align-items:center;
justify-content:space-between;
padding:0 20px;
box-shadow:var(--shadow);
}

.content{
margin-top:70px;
margin-right:260px;
padding:30px;
width:100%;
}

.section{display:none;}
.section.active{display:block;}

.card{
background:var(--card);
padding:20px;
border-radius:14px;
margin-bottom:15px;
box-shadow:var(--shadow);
}

button.action{
background:var(--primary);
color:white;
border:none;
padding:8px 14px;
border-radius:8px;
cursor:pointer;
}

input,select,textarea{
padding:8px;
border-radius:8px;
border:1px solid #ccc;
margin:5px;
}

table{
width:100%;
border-collapse:collapse;
}

th,td{
padding:8px;
border-bottom:1px solid #ddd;
text-align:center;
}

.toast{
position:fixed;
bottom:20px;
left:20px;
background:var(--primary);
color:white;
padding:15px 20px;
border-radius:10px;
display:none;
}
</style>
</head>

<body>

<div class="sidebar">
<h2>Baron System ğŸ‘‘</h2>

<button onclick="showSection('dashboard')">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
<button onclick="showSection('pos')">ğŸ›’ POS</button>
<button onclick="showSection('inventory')">ğŸ“¦ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</button>
<button onclick="showSection('suppliers')" id="suppliersBtn">ğŸ¢ Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†</button>
<button onclick="showSection('invoices')">ğŸ§¾ Ø§Ù„ÙÙˆØ§ØªÙŠØ±</button>
<button onclick="showSection('debts')">ğŸ’° Ø§Ù„Ø¯ÙŠÙˆÙ†</button>
<button onclick="showSection('maintenance')">ğŸ›  Ø§Ù„ØµÙŠØ§Ù†Ø©</button>
<button onclick="showSection('analytics')">ğŸ“Š Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª</button>
<button onclick="showSection('marketing')" id="marketingBtn">ğŸ¯ Ø§Ù„ØªØ³ÙˆÙŠÙ‚</button>

<hr>
<button onclick="logout()">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
</div>

<div class="topbar">
<div id="userRole"></div>
<div onclick="toggleMode()" style="cursor:pointer">ğŸŒ™ / â˜€ï¸</div>
</div>

<div class="content">

<!-- Dashboard -->
<div id="dashboard" class="section active">
<h2>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
<div class="card">
<h3>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª: <span id="totalSales">0</span> Ø¯.Ù„</h3>
<h3>Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ±: <span id="invoiceCount">0</span></h3>
<h3>Ø¹Ø¯Ø¯ Ø§Ù„Ø¯ÙŠÙˆÙ†: <span id="debtCount">0</span></h3>
<h3>Ø£Ø¬Ù‡Ø²Ø© Ù‚ÙŠØ¯ Ø§Ù„ØµÙŠØ§Ù†Ø©: <span id="maintenanceCount">0</span></h3>
</div>
</div>

<!-- POS -->
<div id="pos" class="section">
<h2>Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹</h2>
<div class="card">
<input type="text" id="productName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
<input type="number" id="productPrice" placeholder="Ø§Ù„Ø³Ø¹Ø±">
<button class="action" onclick="addToCart()">Ø¥Ø¶Ø§ÙØ©</button>
</div>

<div class="card">
<ul id="cartList"></ul>
<h3 id="cartTotal">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: 0 Ø¯.Ù„</h3>
<button class="action" onclick="completeSale()">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¨ÙŠØ¹</button>
</div>
</div>

<!-- Inventory -->
<div id="inventory" class="section">
<h2>Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h2>
<div class="card">
<input type="text" id="invName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
<input type="number" id="invQty" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ©">
<button class="action" onclick="addProduct()">Ø¥Ø¶Ø§ÙØ©</button>
</div>
<div class="card">
<table>
<thead><tr><th>Ø§Ù„Ù…Ù†ØªØ¬</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th></tr></thead>
<tbody id="inventoryTable"></tbody>
</table>
</div>
</div>

<!-- Suppliers -->
<div id="suppliers" class="section">
<h2>Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†</h2>
<div class="card">
<input type="text" id="supplierName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ±Ø¯">
<input type="text" id="supplierPhone" placeholder="Ø§Ù„Ù‡Ø§ØªÙ">
<button class="action" onclick="addSupplier()">Ø¥Ø¶Ø§ÙØ©</button>
</div>
<div class="card">
<table>
<thead><tr><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ù„Ù‡Ø§ØªÙ</th></tr></thead>
<tbody id="supplierTable"></tbody>
</table>
</div>
</div>

<!-- Invoices -->
<div id="invoices" class="section">
<h2>Ø§Ù„ÙÙˆØ§ØªÙŠØ±</h2>
<div class="card">
<table>
<thead><tr><th>Ø§Ù„Ø±Ù‚Ù…</th><th>Ø§Ù„Ù‚ÙŠÙ…Ø©</th></tr></thead>
<tbody id="invoiceTable"></tbody>
</table>
</div>
</div>

<!-- Debts -->
<div id="debts" class="section">
<h2>Ø§Ù„Ø¯ÙŠÙˆÙ†</h2>
<div class="card">
<input type="text" id="debtName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„">
<input type="number" id="debtAmount" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº">
<button class="action" onclick="addDebt()">Ø¥Ø¶Ø§ÙØ©</button>
</div>
<div class="card">
<table>
<thead><tr><th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th><th>Ø§Ù„Ù…Ø¨Ù„Øº</th></tr></thead>
<tbody id="debtTable"></tbody>
</table>
</div>
</div>

<!-- Maintenance -->
<div id="maintenance" class="section">
<h2>Ø§Ù„ØµÙŠØ§Ù†Ø©</h2>
<div class="card">
<input type="text" id="deviceName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¬Ù‡Ø§Ø²">
<select id="deviceStatus">
<option value="Ù‚ÙŠØ¯ Ø§Ù„Ø¥ØµÙ„Ø§Ø­">Ù‚ÙŠØ¯ Ø§Ù„Ø¥ØµÙ„Ø§Ø­</option>
<option value="Ø¬Ø§Ù‡Ø²">Ø¬Ø§Ù‡Ø²</option>
</select>
<button class="action" onclick="addMaintenance()">Ø¥Ø¶Ø§ÙØ©</button>
</div>
<div class="card">
<table>
<thead><tr><th>Ø§Ù„Ø¬Ù‡Ø§Ø²</th><th>Ø§Ù„Ø­Ø§Ù„Ø©</th></tr></thead>
<tbody id="maintenanceTable"></tbody>
</table>
</div>
</div>

<!-- Analytics -->
<div id="analytics" class="section">
<h2>Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª</h2>
<div class="card">Ù‚Ø±ÙŠØ¨Ù‹Ø§ Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©</div>
</div>

<!-- Marketing -->
<div id="marketing" class="section">
<h2>Ø§Ù„ØªØ³ÙˆÙŠÙ‚</h2>
<div class="card">
<textarea placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø­Ù…Ù„Ø©..." style="width:100%;height:100px;"></textarea>
<button class="action" onclick="showToast('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø­Ù…Ù„Ø©')">Ø¥Ø±Ø³Ø§Ù„</button>
</div>
</div>

</div>

<div id="toast" class="toast"></div>

<script>
let cart=[],inventory=[],suppliers=[],invoices=[],debts=[],maintenance=[];
let totalSales=0,userRole="admin";

function showSection(id){
if(userRole==="staff" && (id==="marketing"||id==="suppliers")){
showToast("ØºÙŠØ± Ù…ØµØ±Ø­ Ù„Ùƒ Ø¨Ø§Ù„Ø¯Ø®ÙˆÙ„");
return;
}
document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
document.getElementById(id).classList.add('active');
}

function toggleMode(){
document.body.classList.toggle('dark');
localStorage.setItem('mode',document.body.classList.contains('dark')?'dark':'light');
}
if(localStorage.getItem('mode')==='dark'){document.body.classList.add('dark');}

function showToast(msg){
const t=document.getElementById('toast');
t.innerText=msg;
t.style.display='block';
setTimeout(()=>t.style.display='none',3000);
}

function addToCart(){
const name=productName.value;
const price=parseFloat(productPrice.value);
if(!name||!price)return;
cart.push({name,price});
renderCart();
}

function renderCart(){
cartList.innerHTML="";
let total=0;
cart.forEach(i=>{total+=i.price;cartList.innerHTML+=`<li>${i.name} - ${i.price}</li>`});
cartTotal.innerText="Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: "+total+" Ø¯.Ù„";
}

function completeSale(){
let total=0;
cart.forEach(i=>total+=i.price);
totalSales+=total;
invoices.push({id:invoices.length+1,value:total});
invoiceCount.innerText=invoices.length;
totalSalesSpan=totalSales;
document.getElementById("totalSales").innerText=totalSales;
renderInvoices();
cart=[];renderCart();
}

function renderInvoices(){
invoiceTable.innerHTML="";
invoices.forEach(i=>invoiceTable.innerHTML+=`<tr><td>${i.id}</td><td>${i.value}</td></tr>`);
}

function addProduct(){
inventory.push({name:invName.value,qty:invQty.value});
renderInventory();
}

function renderInventory(){
inventoryTable.innerHTML="";
inventory.forEach(p=>inventoryTable.innerHTML+=`<tr><td>${p.name}</td><td>${p.qty}</td></tr>`);
}

function addSupplier(){
suppliers.push({name:supplierName.value,phone:supplierPhone.value});
supplierTable.innerHTML+=`<tr><td>${supplierName.value}</td><td>${supplierPhone.value}</td></tr>`;
}

function addDebt(){
debts.push({name:debtName.value,amount:debtAmount.value});
debtCount.innerText=debts.length;
debtTable.innerHTML+=`<tr><td>${debtName.value}</td><td>${debtAmount.value}</td></tr>`;
}

function addMaintenance(){
maintenance.push({name:deviceName.value,status:deviceStatus.value});
maintenanceCount.innerText=maintenance.length;
maintenanceTable.innerHTML+=`<tr><td>${deviceName.value}</td><td>${deviceStatus.value}</td></tr>`;
}

function logout(){location.href="login.html";}
document.getElementById("userRole").innerText="Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©: "+userRole;
</script>

</body>
</html>
