<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>بارون | اشتراكات رقمية</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<style>
/* نفس التصميم بدون تغيير */
:root{
--accent:#B53CB8;
--accent-glow:#d46cff;
--bg:#0a0a12;
--bg-card:#151520;
--text-primary:#EFEFEF;
--text-secondary:#a0a0b0;
--border-glow:rgba(181,60,184,.3);
}

body{
margin:0;
font-family:system-ui;
background:
radial-gradient(circle at 10% 30%, rgba(181,60,184,.12), transparent 30%),
radial-gradient(circle at 90% 70%, rgba(181,60,184,.1), transparent 30%),
var(--bg);
color:var(--text-primary);
}

/* اختصار CSS — التصميم لم يتغير */
header{display:flex;justify-content:space-between;align-items:center;padding:20px 60px;background:rgba(0,0,0,.7);backdrop-filter:blur(20px);border-bottom:1px solid var(--border-glow);}
.logo{font-size:26px;font-weight:800;background:linear-gradient(135deg,#fff,var(--accent-glow));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
nav{display:flex;gap:40px;}
nav a{text-decoration:none;color:var(--text-primary);font-weight:600;}
.cart-icon{display:flex;align-items:center;gap:8px;background:rgba(255,255,255,.1);padding:10px 18px;border-radius:40px;border:1px solid var(--border-glow);cursor:pointer;}
.cart-icon i{color:var(--accent-glow);}
.section{padding:60px 80px;}
.subscriptions-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:30px;}
.product-wrapper{display:flex;flex-direction:column;gap:12px;}
.sub-card{background:var(--bg-card);border-radius:30px;overflow:hidden;border:1px solid var(--border-glow);transition:.3s;cursor:pointer;}
.sub-card:hover{box-shadow:0 0 30px var(--accent-glow);}
.card-image img{width:100%;height:200px;object-fit:cover;}
.card-details{padding:15px;}
.price{color:var(--accent-glow);font-weight:800;}
.product-action-btn{padding:12px;border-radius:40px;border:2px solid var(--accent);background:transparent;color:var(--accent-glow);cursor:pointer;font-weight:700;}
.product-action-btn:hover{background:var(--accent);color:white;}
.btn-remove{background:#ff4444;border-color:#ff4444;color:white;}
.btn-remove:hover{background:#ff6666;}
footer{padding:60px 80px;border-top:1px solid var(--border-glow);text-align:center;color:#888;margin-top:60px;}
</style>
</head>

<body>

<header>
<div class="logo">BARON</div>
<nav>
<a href="store.html">المتجر</a>
<a href="subscriptions.html">الاشتراكات</a>
</nav>
<div class="cart-icon" onclick="location.href='cart.html'">
<i class="fas fa-shopping-bag"></i>
<span id="cartCount">0</span>
</div>
</header>

<div class="section">
<h2>الاشتراكات الرقمية</h2>
<div class="subscriptions-grid" id="plansContainer"></div>
</div>

<footer>
© 2026 BARON — Futuristic Luxury Experience
</footer>

<script>
/* ====== نظام السلة الموحد ====== */
const CART_KEY="baron_cart";

function getCart(){
return JSON.parse(localStorage.getItem(CART_KEY))||[];
}

function saveCart(cart){
localStorage.setItem(CART_KEY,JSON.stringify(cart));
}

function updateCartCounter(){
const cart=getCart();
const total=cart.reduce((sum,item)=>sum+item.qty,0);
document.getElementById("cartCount").textContent=total;
}

function addToCart(plan){
const cart=getCart();
const exists=cart.find(item=>item.id===plan.id);
if(!exists){
cart.push({
id:plan.id,
name:plan.name,
price:plan.price,
img:plan.img,
type:"subscription",
qty:1
});
}
saveCart(cart);
updateCartCounter();
}

function removeFromCart(plan){
let cart=getCart();
cart=cart.filter(item=>item.id!==plan.id);
saveCart(cart);
updateCartCounter();
}

/* ====== بيانات الاشتراكات ====== */
const plans=[
{id:"net1",name:"نتفلكس أساسي",price:120,img:"https://picsum.photos/id/40/300/200"},
{id:"net2",name:"نتفلكس بريميوم",price:240,img:"https://picsum.photos/id/41/300/200"},
{id:"sh1",name:"شاهد VIP",price:90,img:"https://picsum.photos/id/42/300/200"},
{id:"game1",name:"Xbox Game Pass",price:180,img:"https://picsum.photos/id/43/300/200"},
{id:"soft1",name:"Adobe Creative Cloud",price:350,img:"https://picsum.photos/id/44/300/200"}
];

const container=document.getElementById("plansContainer");

plans.forEach(plan=>{
const wrapper=document.createElement("div");
wrapper.className="product-wrapper";

const card=document.createElement("div");
card.className="sub-card";
card.innerHTML=`
<div class="card-image">
<img src="${plan.img}">
</div>
<div class="card-details">
<h3>${plan.name}</h3>
<div class="price">${plan.price} دينار</div>
</div>
`;

const btn=document.createElement("button");
btn.className="product-action-btn";

function refreshButton(){
const cart=getCart();
const exists=cart.some(item=>item.id===plan.id);
if(exists){
btn.classList.add("btn-remove");
btn.innerHTML='<i class="fas fa-trash"></i> حذف';
}else{
btn.classList.remove("btn-remove");
btn.innerHTML='<i class="fas fa-cart-plus"></i> إضافة';
}
}

btn.onclick=()=>{
const cart=getCart();
const exists=cart.some(item=>item.id===plan.id);
if(exists){
removeFromCart(plan);
}else{
addToCart(plan);
}
refreshButton();
};

refreshButton();

wrapper.appendChild(card);
wrapper.appendChild(btn);
container.appendChild(wrapper);
});

updateCartCounter();
</script>

</body>
</html>
